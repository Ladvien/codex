# Agentic Memory System Configuration

# Database Configuration
DATABASE_URL=postgresql://username:password@localhost:5432/database_name
# Alternative: Use individual components
# DB_HOST=localhost
# DB_USER=username
# DB_PASSWORD=password
# DB_NAME=database_name
# DB_PORT=5432

# Embedding Configuration
EMBEDDING_PROVIDER=ollama
EMBEDDING_MODEL=nomic-embed-text
EMBEDDING_BASE_URL=http://localhost:11434
EMBEDDING_TIMEOUT_SECONDS=60

# Optional: OpenAI API Key (only if using OpenAI provider)
# OPENAI_API_KEY=sk-your-api-key-here

# Server Configuration
HTTP_PORT=8080
MCP_PORT=8081
LOG_LEVEL=info

# Auto-migrate database on startup
AUTO_MIGRATE=true
MIGRATION_DIR=./migration/migrations

# Memory Tier Configuration
WORKING_TIER_LIMIT=1000
WARM_TIER_LIMIT=10000
WORKING_TO_WARM_DAYS=7
WARM_TO_COLD_DAYS=30
IMPORTANCE_THRESHOLD=0.7

# Operational Configuration
MAX_DB_CONNECTIONS=10
REQUEST_TIMEOUT_SECONDS=30
ENABLE_METRICS=true

# ===== MCP AUTHENTICATION & SECURITY =====
# Enable/disable authentication (default: false)
MCP_AUTH_ENABLED=false

# JWT secret key (minimum 32 characters for security)
MCP_JWT_SECRET=change-me-in-production-super-secret-key-minimum-32-chars

# JWT token expiration in seconds (default: 3600 = 1 hour)
MCP_JWT_EXPIRY_SECONDS=3600

# Single API key configuration (simple setup)
MCP_API_KEY=your-api-key-here
MCP_CLIENT_ID=default-client

# Multiple API keys configuration (JSON format)
# MCP_API_KEYS={"key1": {"client_id": "client1", "scopes": ["mcp:read", "mcp:write"]}, "key2": {"client_id": "client2", "scopes": ["mcp:read"]}}

# Allowed client certificate thumbprints (comma-separated)
# MCP_ALLOWED_CERTS=abc123def456,789ghi012jkl

# ===== RATE LIMITING =====
# Enable/disable rate limiting (default: true)
MCP_RATE_LIMIT_ENABLED=true

# Global rate limits (requests per minute)
MCP_GLOBAL_RATE_LIMIT=1000
MCP_GLOBAL_BURST_SIZE=50

# Per-client rate limits (requests per minute)
MCP_CLIENT_RATE_LIMIT=100
MCP_CLIENT_BURST_SIZE=10

# Silent mode rate limit multiplier (default: 0.5)
MCP_SILENT_MODE_MULTIPLIER=0.5

# Whitelisted clients (comma-separated)
# MCP_RATE_LIMIT_WHITELIST=admin-client,monitoring-client

# Custom tool rate limits (JSON format)
# MCP_TOOL_RATE_LIMITS={"store_memory": 50, "search_memory": 200}

# Custom tool burst sizes (JSON format)
# MCP_TOOL_BURST_SIZES={"store_memory": 5, "search_memory": 20}
